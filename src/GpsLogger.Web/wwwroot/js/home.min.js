function initMap() { var e = new google.maps.Map(document.getElementById("map"), { zoom: 10, center: { lat: 51.571095, lng: -.935898 } }), t = new XMLHttpRequest; t.open("GET", "/track", !0), t.onload = function () { if (t.status >= 200 && t.status < 400) { var n = JSON.parse(t.responseText), o = n.events; document.title = n.name, document.getElementById("title").innerText = n.name; for (var a = [], l = 0; l < o.length; l++) { var r = o[l], i = new google.maps.LatLng(r.latitude, r.longitude); if (a.push(i), 0 == l && e.setCenter(i), r.accuracy) new google.maps.Circle({ strokeColor: "blue", strokeOpacity: .5, fillColor: "blue", fillOpacity: .35, map: e, center: i, radius: r.accuracy }); new google.maps.Marker({ position: i, map: e, title: r.eventTime }) } new google.maps.Polyline({ path: a, strokeColor: "black", strokeOpacity: .5, strokeWeight: 1, map: e }) } else document.getElementById("title").innerText = "No tracks found" }, t.send() }